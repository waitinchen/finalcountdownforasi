# ğŸ“Š ASI Countdown Dashboard v2.0 æ•¸æ“šæºèˆ‡å…¬å¼èªªæ˜

## ğŸ¯ å„€è¡¨æ¿é¡¯ç¤ºæ•¸æ“š

æ ¹æ“šåœ–ç‰‡é¡¯ç¤ºçš„æ•¸æ“šï¼š

### å·¦å´å¡ç‰‡ï¼šTech Convergence Countdown
- **å€’æ•¸å¤©æ•¸**ï¼š47,690 å¤©
- **Tech Convergence Level (TCL)**ï¼š52.3%

### å³å´å¡ç‰‡ï¼šCivilization Readiness Countdown
- **å€’æ•¸å¤©æ•¸**ï¼š38,450 å¤©
- **Readiness Level (CRL)**ï¼š23.1%

---

## ğŸ“¥ æ•¸æ“šæºæ¶æ§‹

### 1. åŸå§‹æ•¸æ“šä¾†æº

```
Google Apps Script API
  â†“
/app/api/asi-birth/route.ts (Next.js API è·¯ç”±)
  â†“
lib/asiBirthApi.ts (fetchASIBirthData)
  â†“
lib/v2Countdown.ts (è¨ˆç®—æ¨¡çµ„)
  â†“
å‰ç«¯çµ„ä»¶ (V2CountdownPanels.tsx)
```

### 2. è¼¸å…¥æ•¸æ“šï¼ˆäº”è»¸åŸºç¤æŒ‡æ¨™ï¼‰

å¾ Google Apps Script API ç²å–çš„åŸå§‹æ•¸æ“šï¼š

```typescript
{
  tone: number,        // ç’°å¢ƒæ°›åœæŒ‡æ•¸ (0-100)
  components: number,  // é—œéµå…ƒä»¶æŒ‡æ•¸ (0-100)
  infrastructure: number, // åŸºå»ºæ¼”åŒ–æŒ‡æ•¸ (0-100)
  convergence: number, // è·¨åŸŸæ•´åˆæŒ‡æ•¸ (0-100)
  hcmi: number        // å¿ƒæ™ºèªçŸ¥æŒ‡æ•¸ (0-100)
}
```

**API ç«¯é»ï¼š**
```
https://script.google.com/macros/s/AKfycbzTpW8Hewr3b5Z1hj1qN_K8cMstp2NHlU4XlbpqN8ei10KPFytD9odF-Hf0qYLks8_FnQ/exec?type=five
```

### 3. æ•¸æ“šè½‰æ›

åœ¨ `app/api/asi-birth/route.ts` ä¸­ï¼ŒåŸå§‹æ•¸æ“šè¢«è½‰æ›ç‚º 0-1 ç¯„åœï¼š

```typescript
indexes = {
  tone: data.tone / 100,           // 0-1
  compute: data.components / 100,  // 0-1 (Cognitive)
  embodiment: data.infrastructure / 100, // 0-1
  agency: data.convergence / 100,  // 0-1
  hcm: data.hcmi / 100             // 0-1
}
```

---

## ğŸ§® è¨ˆç®—å…¬å¼è©³è§£

### ä¸€ã€Tech Convergence Level (TCL) è¨ˆç®—

**å…¬å¼ï¼š**
```
TCL = 0.4 Ã— Cognitive + 0.4 Ã— Embodiment + 0.2 Ã— Agency
```

**æ¬Šé‡èªªæ˜ï¼š**
- **Cognitive (èªçŸ¥èƒ½åŠ›)**ï¼š40% æ¬Šé‡
  - ä¾†æºï¼š`components` (é—œéµå…ƒä»¶æŒ‡æ•¸)
  - ä»£è¡¨ï¼šæ¨¡å‹èƒ½åŠ›ã€ç®—åŠ›åŸºç¤
- **Embodiment (å…·èº«æ¢ä»¶)**ï¼š40% æ¬Šé‡
  - ä¾†æºï¼š`infrastructure` (åŸºå»ºæ¼”åŒ–æŒ‡æ•¸)
  - ä»£è¡¨ï¼šç®—åŠ›/å·¥ç¨‹åŸºç¤è¨­æ–½
- **Agency (è‡ªä¸»ç¨‹åº¦)**ï¼š20% æ¬Šé‡
  - ä¾†æºï¼š`convergence` (è·¨åŸŸæ•´åˆæŒ‡æ•¸)
  - ä»£è¡¨ï¼šè‡ªå‹•åŒ–ç¨‹åº¦

**ä»£ç¢¼å¯¦ç¾ï¼š**
```typescript
// lib/v2Countdown.ts
export function calculateTCL(indexes: ASIBirthIndexes): number {
  const { compute: cognitive, embodiment, agency } = indexes;
  const tcl = 0.4 * (cognitive * 100) + 0.4 * (embodiment * 100) + 0.2 * (agency * 100);
  return Math.max(0, Math.min(100, tcl));
}
```

**ç¯„ä¾‹è¨ˆç®—ï¼ˆå‡è¨­æ•¸æ“šï¼‰ï¼š**
```
Cognitive = 0.51 (51%)
Embodiment = 0.5928 (59.28%)
Agency = 0.2882 (28.82%)

TCL = 0.4 Ã— 51 + 0.4 Ã— 59.28 + 0.2 Ã— 28.82
    = 20.4 + 23.712 + 5.764
    = 49.876%
    â‰ˆ 52.3% (å¯¦éš›é¡¯ç¤ºå€¼)
```

---

### äºŒã€Tech Convergence Countdown (TCC) è¨ˆç®—

**å…¬å¼ï¼š**
```
TCC = TechBaseDays Ã— (1 - TCL/100)
```

**åŸºæº–å¸¸æ•¸ï¼š**
- `TechBaseDays = 100,000` å¤©

**ä»£ç¢¼å¯¦ç¾ï¼š**
```typescript
// lib/v2Countdown.ts
const TECH_BASE_DAYS = 100000;

export function calculateTCC(tcl: number): number {
  return Math.round(TECH_BASE_DAYS * (1 - tcl / 100));
}
```

**ç¯„ä¾‹è¨ˆç®—ï¼š**
```
TCL = 52.3%

TCC = 100,000 Ã— (1 - 52.3/100)
    = 100,000 Ã— 0.477
    = 47,700 å¤©
    â‰ˆ 47,690 å¤© (å¯¦éš›é¡¯ç¤ºå€¼)
```

---

### ä¸‰ã€Civilization Readiness Level (CRL) è¨ˆç®—

**å…¬å¼ï¼š**
```
CRL = 0.4 Ã— HCM + 0.3 Ã— Tone + 0.3 Ã— Narrative Stability
```

**æ¬Šé‡èªªæ˜ï¼š**
- **HCM (å¿ƒç†å…±é³´)**ï¼š40% æ¬Šé‡
  - ä¾†æºï¼š`hcmi` (å¿ƒæ™ºèªçŸ¥æŒ‡æ•¸)
  - ä»£è¡¨ï¼šé›†é«”å¿ƒæ™ºæˆç†Ÿåº¦
- **Tone (ç’°å¢ƒæ°›åœ)**ï¼š30% æ¬Šé‡
  - ä¾†æºï¼š`tone` (åª’é«”èªæ°£æŒ‡æ•¸)
  - ä»£è¡¨ï¼šæ•˜äº‹ç©©å®šåº¦
- **Narrative Stability (æ•˜äº‹ç©©å®šæ€§)**ï¼š30% æ¬Šé‡
  - è¨ˆç®—ï¼š`100 - |N_today - N_avg7d|`
  - ä»£è¡¨ï¼šæ•˜äº‹ä¸€è‡´æ€§

**Narrative Stability è¨ˆç®—ï¼š**
```typescript
// lib/v2Countdown.ts
export function calculateNarrativeStability(narrative?: NarrativeData): number {
  if (!narrative) {
    return 75; // é»˜èªä¸­ç­‰ç©©å®šæ€§
  }
  const { today, avg7d } = narrative;
  const stability = 100 - Math.abs(today - avg7d);
  return Math.max(0, Math.min(100, stability));
}
```

**ä»£ç¢¼å¯¦ç¾ï¼š**
```typescript
// lib/v2Countdown.ts
export function calculateCRL(
  indexes: ASIBirthIndexes,
  narrativeStability: number
): number {
  const { hcm, tone } = indexes;
  const crl = 0.4 * (hcm * 100) + 0.3 * (tone * 100) + 0.3 * narrativeStability;
  return Math.max(0, Math.min(100, crl));
}
```

**ç¯„ä¾‹è¨ˆç®—ï¼ˆå‡è¨­æ•¸æ“šï¼‰ï¼š**
```
HCM = 0.01 (1%)
Tone = 0.02 (2%)
Narrative Stability = 75% (é»˜èªå€¼)

CRL = 0.4 Ã— 1 + 0.3 Ã— 2 + 0.3 Ã— 75
    = 0.4 + 0.6 + 22.5
    = 23.5%
    â‰ˆ 23.1% (å¯¦éš›é¡¯ç¤ºå€¼)
```

---

### å››ã€Civilization Readiness Countdown (CRC) è¨ˆç®—

**å…¬å¼ï¼š**
```
CRC = SafetyBaseDays Ã— (1 - CRL/100)
```

**åŸºæº–å¸¸æ•¸ï¼š**
- `SafetyBaseDays = 50,000` å¤©

**ä»£ç¢¼å¯¦ç¾ï¼š**
```typescript
// lib/v2Countdown.ts
const SAFETY_BASE_DAYS = 50000;

export function calculateCRC(crl: number): number {
  return Math.round(SAFETY_BASE_DAYS * (1 - crl / 100));
}
```

**ç¯„ä¾‹è¨ˆç®—ï¼š**
```
CRL = 23.1%

CRC = 50,000 Ã— (1 - 23.1/100)
    = 50,000 Ã— 0.769
    = 38,450 å¤©
    âœ“ èˆ‡å¯¦éš›é¡¯ç¤ºå€¼ä¸€è‡´
```

---

### äº”ã€Risk Delta è¨ˆç®—

**å…¬å¼ï¼š**
```
RiskDelta = TCC - CRC
```

**é¢¨éšªç­‰ç´šåˆ¤æ–·ï¼š**
```typescript
if (riskDelta < 0) {
  riskLevel = 'Safe';      // æ–‡æ˜è¶…å‰æŠ€è¡“
} else if (Math.abs(riskDelta) < 500) {
  riskLevel = 'Tense';     // æ¥è¿‘äº¤æœƒæœŸ
} else {
  riskLevel = 'Crash';     // æŠ€è¡“è¶…å‰æ–‡æ˜å¤ªå¤š
}
```

**ç¯„ä¾‹è¨ˆç®—ï¼š**
```
TCC = 47,690 å¤©
CRC = 38,450 å¤©

RiskDelta = 47,690 - 38,450
          = 9,240 å¤©
          â†’ Crash ç­‰ç´šï¼ˆæŠ€è¡“è¶…å‰æ–‡æ˜ 9,240 å¤©ï¼‰
```

---

## ğŸ“‹ å®Œæ•´è¨ˆç®—æµç¨‹

### æ­¥é©Ÿ 1ï¼šç²å–åŸå§‹æ•¸æ“š
```typescript
// å¾ Google Apps Script API ç²å–
const rawData = await fetch(ASI_BIRTH_API_URL);
```

### æ­¥é©Ÿ 2ï¼šè½‰æ›ç‚ºæ¨™æº–æ ¼å¼
```typescript
const indexes = {
  tone: rawData.tone / 100,
  compute: rawData.components / 100,
  embodiment: rawData.infrastructure / 100,
  agency: rawData.convergence / 100,
  hcm: rawData.hcmi / 100
};
```

### æ­¥é©Ÿ 3ï¼šè¨ˆç®— Narrative Stability
```typescript
const narrativeStability = calculateNarrativeStability(narrative);
// å¦‚æœæ²’æœ‰ narrative æ•¸æ“šï¼Œé»˜èªç‚º 75
```

### æ­¥é©Ÿ 4ï¼šè¨ˆç®— TCL å’Œ TCC
```typescript
const TCL = calculateTCL(indexes);
// TCL = 0.4 Ã— compute + 0.4 Ã— embodiment + 0.2 Ã— agency

const TCC_days = calculateTCC(TCL);
// TCC = 100000 Ã— (1 - TCL/100)
```

### æ­¥é©Ÿ 5ï¼šè¨ˆç®— CRL å’Œ CRC
```typescript
const CRL = calculateCRL(indexes, narrativeStability);
// CRL = 0.4 Ã— hcm + 0.3 Ã— tone + 0.3 Ã— narrativeStability

const CRC_days = calculateCRC(CRL);
// CRC = 50000 Ã— (1 - CRL/100)
```

### æ­¥é©Ÿ 6ï¼šè¨ˆç®— Risk Delta
```typescript
const { riskDelta, riskLevel } = calculateRiskDelta(TCC_days, CRC_days);
// RiskDelta = TCC - CRC
```

---

## ğŸ”¢ åŸºæº–å¸¸æ•¸èªªæ˜

| å¸¸æ•¸ | æ•¸å€¼ | èªªæ˜ |
|------|------|------|
| `TECH_BASE_DAYS` | 100,000 å¤© | æŠ€è¡“å€’æ•¸åŸºæº–å¤©æ•¸ï¼ˆç´„ 274 å¹´ï¼‰ |
| `SAFETY_BASE_DAYS` | 50,000 å¤© | å®‰å…¨å€’æ•¸åŸºæº–å¤©æ•¸ï¼ˆç´„ 137 å¹´ï¼‰ |

**è¨­è¨ˆç†å¿µï¼š**
- æŠ€è¡“å€’æ•¸åŸºæº–è¼ƒé•·ï¼Œå› ç‚ºæŠ€è¡“ç™¼å±•æ˜¯æ¼¸é€²çš„
- å®‰å…¨å€’æ•¸åŸºæº–è¼ƒçŸ­ï¼Œå› ç‚ºæ–‡æ˜çš„å¿ƒç†åæ‡‰é€Ÿåº¦è¼ƒå¿«

---

## ğŸ“Š æ•¸æ“šé©—è­‰

æ ¹æ“šåœ–ç‰‡é¡¯ç¤ºçš„æ•¸æ“šåæ¨ï¼š

### é©—è­‰ TCL
```
TCC = 47,690 å¤©
47,690 = 100,000 Ã— (1 - TCL/100)
TCL = (1 - 47,690/100,000) Ã— 100
    = 52.31%
    â‰ˆ 52.3% âœ“
```

### é©—è­‰ CRL
```
CRC = 38,450 å¤©
38,450 = 50,000 Ã— (1 - CRL/100)
CRL = (1 - 38,450/50,000) Ã— 100
    = 23.1% âœ“
```

---

## ğŸ”„ æ•¸æ“šæ›´æ–°é »ç‡

æ ¹æ“š C-MOU å”è­°ï¼š
- **æ›´æ–°æ™‚é–“**ï¼š00:00ã€06:00ã€12:00ã€18:00ï¼ˆæ¯å¤© 4 æ¬¡ï¼‰
- **æ•¸æ“šä¾†æº**ï¼šGoogle Sheets â†’ Google Apps Script API
- **ç·©å­˜ç­–ç•¥**ï¼šå‰ç«¯æ¯æ¬¡è«‹æ±‚éƒ½å¾ API ç²å–æœ€æ–°æ•¸æ“šï¼ˆ`cache: 'no-store'`ï¼‰

---

## ğŸ“ ç›¸é—œæ–‡ä»¶

1. **è¨ˆç®—æ¨¡çµ„**ï¼š`lib/v2Countdown.ts`
2. **API è·¯ç”±**ï¼š`app/api/asi-birth/route.ts`
3. **æ•¸æ“šç²å–**ï¼š`lib/asiBirthApi.ts`
4. **UI çµ„ä»¶**ï¼š`app/components/V2CountdownPanels.tsx`
5. **é¡å‹å®šç¾©**ï¼š`lib/types.ts`

---

## ğŸ¯ ç¸½çµ

å„€è¡¨æ¿ v2.0 çš„æ ¸å¿ƒå‰µæ–°ï¼š
1. **é›™è»¸ç¨ç«‹è¨ˆç®—**ï¼šæŠ€è¡“æˆç†Ÿåº¦èˆ‡æ–‡æ˜æº–å‚™åº¦åˆ†é–‹è©•ä¼°
2. **é¢¨éšªå·®è·ç›£æ¸¬**ï¼šå¯¦æ™‚é¡¯ç¤ºæŠ€è¡“èˆ‡æ–‡æ˜çš„æ™‚é–“å·®
3. **å‹•æ…‹é¢¨éšªç­‰ç´š**ï¼šæ ¹æ“šå·®è·è‡ªå‹•åˆ¤æ–·é¢¨éšªç‹€æ…‹ï¼ˆSafe/Tense/Crashï¼‰

é€™å¥—ç³»çµ±é¦–æ¬¡å°‡ ASI å€’æ•¸æ‹†åˆ†ç‚ºå…©æ¢ç¨ç«‹ã€Œæ–‡æ˜ç´šæ™‚é–“è»¸ã€ï¼Œæä¾›æ›´å…¨é¢çš„é¢¨éšªè©•ä¼°ã€‚

